# Документ требований

## Введение

Данная функция реализует страницу управления пользователями с навигацией по вкладкам. Первая вкладка отображает комплексную таблицу данных с информацией о пользователях, включающую фильтрацию, сортировку и пагинацию. Вторая вкладка служит заглушкой для будущего функционала. Реализация использует современные паттерны React с TanStack Router для маршрутизации, TanStack Query для загрузки данных, TanStack Table для управления таблицей, React Hook Form с валидацией Zod для форм и компоненты shadcn/ui для интерфейса.

## Глоссарий

- **UsersTable**: Основной компонент таблицы данных, отображающий информацию о пользователях с колонками для телефона, ID, email, имени, фамилии, даты регистрации, статуса инсайдера, страны, домена, статуса создания реального аккаунта и статуса создания демо-аккаунта
- **TabNavigation**: Компонент, обеспечивающий переключение между вкладками таблицы пользователей и заглушкой
- **UserDataService**: Сервисный слой, отвечающий за загрузку данных пользователей из API
- **FilterForm**: Компонент формы, позволяющий пользователям фильтровать данные таблицы по различным критериям
- **PaginationControl**: Компонент, управляющий пагинацией таблицы и выбором количества строк на странице
- **TableRow**: Одна строка в таблице пользователей, представляющая данные одного пользователя
- **PlaceholderTab**: Вторая вкладка, отображающая сообщение "в процессе разработки"

## Требования

### Требование 1

**Пользовательская история:** Как пользователь, я хочу просматривать таблицу пользователей с пагинацией и множеством колонок данных, чтобы эффективно просматривать и анализировать информацию о пользователях

#### Критерии приемки

1. UsersTable ДОЛЖНА отображать колонки для Телефона, ID, Email, Имени, Фамилии, Даты регистрации, Статуса инсайдера, Страны, Домена, Статуса создания реального аккаунта, Статуса создания демо-аккаунта и Опций
2. КОГДА загружается страница пользователей, UsersTable ДОЛЖНА загружать данные пользователей из API используя TanStack Query
3. UsersTable ДОЛЖНА отображать кнопку "CREATE" в верхней части таблицы
4. UsersTable ДОЛЖНА показывать элементы управления пагинацией внизу с выбором количества строк на странице
5. UsersTable ДОЛЖНА отображать "Rows per page: 10" с выпадающим списком и показывать текущий диапазон страниц (например, "1-10 of 2614")

### Требование 2

**Пользовательская история:** Как пользователь, я хочу фильтровать данные таблицы по различным критериям, чтобы быстро находить конкретных пользователей

#### Критерии приемки

1. FilterForm ДОЛЖНА предоставлять поля ввода для Телефона, ID, Email, Имени, Фамилии, Даты регистрации, Статуса инсайдера, Страны, Домена, Статуса создания реального аккаунта, Статуса создания демо-аккаунта
2. КОГДА пользователь вводит критерии фильтрации, FilterForm ДОЛЖНА валидировать ввод используя Zod схему
3. КОГДА применяются критерии фильтрации, UsersTable ДОЛЖНА обновиться для отображения только соответствующих записей
4. FilterForm ДОЛЖНА использовать React Hook Form для управления состоянием формы
5. FilterForm ДОЛЖНА отображать поля выбора даты для фильтрации по Дате регистрации

### Требование 3

**Пользовательская история:** Как пользователь, я хочу сортировать колонки таблицы, чтобы организовать данные в соответствии с моими потребностями

#### Критерии приемки

1. UsersTable ДОЛЖНА отображать индикаторы сортировки (стрелки) в заголовках колонок для сортируемых колонок
2. КОГДА пользователь кликает на заголовок сортируемой колонки, UsersTable ДОЛЖНА отсортировать данные по этой колонке
3. UsersTable ДОЛЖНА переключаться между возрастающим и убывающим порядком сортировки при повторных кликах
4. UsersTable ДОЛЖНА сохранять состояние сортировки во время пагинации

### Требование 4

**Пользовательская история:** Как пользователь, я хочу переключаться между различными разделами используя вкладки, чтобы получать доступ к различным функциям

#### Критерии приемки

1. TabNavigation ДОЛЖНА отображать две вкладки в верхней части страницы
2. TabNavigation ДОЛЖНА выделять активную вкладку
3. КОГДА пользователь кликает на первую вкладку, TabNavigation ДОЛЖНА отображать UsersTable
4. КОГДА пользователь кликает на вторую вкладку, TabNavigation ДОЛЖНА отображать PlaceholderTab
5. TabNavigation ДОЛЖНА использовать TanStack Router для навигации по вкладкам с правильной маршрутизацией URL

### Требование 5

**Пользовательская история:** Как пользователь, я хочу видеть сообщение-заглушку во второй вкладке, чтобы знать, что функция находится в разработке

#### Критерии приемки

1. PlaceholderTab ДОЛЖНА отображать сообщение, указывающее что страница в процессе разработки
2. PlaceholderTab ДОЛЖНА использовать согласованный стиль с остальной частью приложения
3. PlaceholderTab ДОЛЖНА быть доступна через вторую вкладку в TabNavigation

### Требование 6

**Пользовательская история:** Как пользователь, я хочу выполнять действия над отдельными строками пользователей, чтобы управлять данными пользователей

#### Критерии приемки

1. TableRow ДОЛЖНА отображать колонку "Options" с кнопками действий
2. TableRow ДОЛЖНА предоставлять визуальные индикаторы (иконки) для различных действий
3. КОГДА пользователь кликает на кнопку действия, UsersTable ДОЛЖНА запускать соответствующее действие
4. TableRow ДОЛЖНА отображать несколько иконок действий в колонке Options

### Требование 7

**Пользовательская история:** Как пользователь, я хочу чтобы таблица была адаптивной и доступной, чтобы я мог использовать её на различных устройствах

#### Критерии приемки

1. UsersTable ДОЛЖНА быть адаптивной и подстраиваться под различные размеры экрана
2. UsersTable ДОЛЖНА использовать компоненты таблицы shadcn/ui для согласованного стиля
3. UsersTable ДОЛЖНА соответствовать стандартам доступности с правильными ARIA метками
4. UsersTable ДОЛЖНА отображать данные в читаемом формате с правильными отступами

### Требование 8

**Пользовательская история:** Как разработчик, я хочу чтобы таблица использовала TanStack Query для загрузки данных, чтобы получить преимущества кэширования и автоматической перезагрузки

#### Критерии приемки

1. UserDataService ДОЛЖЕН использовать хуки TanStack Query для загрузки данных
2. КОГДА данные загружаются, UsersTable ДОЛЖНА отображать состояние загрузки
3. КОГДА загрузка данных не удалась, UsersTable ДОЛЖНА отображать сообщение об ошибке
4. UserDataService ДОЛЖЕН реализовывать правильные ключи запросов для управления кэшем
5. UserDataService ДОЛЖЕН поддерживать параметры пагинации в API запросах

### Требование 9

**Пользовательская история:** Как разработчик, я хочу использовать Zod для валидации URL параметров, чтобы обеспечить типобезопасность и корректность данных маршрутизации

#### Критерии приемки

1. TabNavigation ДОЛЖНА использовать Zod схемы для валидации search параметров в TanStack Router
2. КОГДА пользователь переходит по URL с параметрами фильтрации, TabNavigation ДОЛЖНА валидировать параметры используя Zod схему
3. КОГДА пользователь переходит по URL с параметрами пагинации, TabNavigation ДОЛЖНА валидировать параметры используя Zod схему
4. TabNavigation ДОЛЖНА определять Zod схему для всех query параметров (page, pageSize, sortBy, sortOrder, filters)
5. КОГДА валидация URL параметров не проходит, TabNavigation ДОЛЖНА использовать значения по умолчанию
